<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple POS System</title>
    <style>
        :root {
            --primary: #2563eb;
            --primary-dark: #1d4ed8;
            --secondary: #64748b;
            --danger: #ef4444;
            --success: #10b981;
            --light: #f1f5f9;
            --dark: #1e293b;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #f8fafc;
            color: var(--dark);
        }

        .container {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 1rem;
            padding: 1rem;
            max-width: 1400px;
            margin: 0 auto;
            height: 100vh;
        }

        header {
            grid-column: 1 / -1;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.5rem 1rem;
            background-color: white;
            border-radius: 0.5rem;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        .logo {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--primary);
        }

        nav {
            display: flex;
            gap: 1rem;
        }

        button {
            padding: 0.5rem 1rem;
            border: none;
            border-radius: 0.25rem;
            background-color: var(--primary);
            color: white;
            cursor: pointer;
            font-weight: 500;
            transition: background-color 0.2s;
        }

        button:hover {
            background-color: var(--primary-dark);
        }

        button.secondary {
            background-color: var(--secondary);
        }

        button.danger {
            background-color: var(--danger);
        }

        button.success {
            background-color: var(--success);
        }

        .products-section {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .categories {
            display: flex;
            gap: 0.5rem;
            overflow-x: auto;
            padding-bottom: 0.5rem;
        }

        .category {
            padding: 0.5rem 1rem;
            background-color: white;
            border-radius: 0.25rem;
            cursor: pointer;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        .category.active {
            background-color: var(--primary);
            color: white;
        }

        .search-bar {
            display: flex;
            gap: 0.5rem;
            padding: 0.5rem;
            background-color: white;
            border-radius: 0.25rem;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        .search-bar input {
            flex: 1;
            padding: 0.5rem;
            border: 1px solid #e2e8f0;
            border-radius: 0.25rem;
        }

        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 1rem;
            overflow-y: auto;
            padding: 0.5rem;
            background-color: white;
            border-radius: 0.5rem;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            flex: 1;
        }

        .product {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
            padding: 1rem;
            background-color: var(--light);
            border-radius: 0.25rem;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .product:hover {
            transform: translateY(-5px);
        }

        .product img {
            width: 100%;
            height: 100px;
            object-fit: cover;
            border-radius: 0.25rem;
        }

        .product-name {
            font-weight: 500;
        }

        .product-price {
            font-weight: bold;
            color: var(--primary);
        }

        .cart-section {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            background-color: white;
            border-radius: 0.5rem;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            padding: 1rem;
        }

        .cart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .cart-items {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
            overflow-y: auto;
            flex: 1;
        }

        .cart-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.5rem;
            background-color: var(--light);
            border-radius: 0.25rem;
        }

        .cart-item-info {
            display: flex;
            flex-direction: column;
        }

        .cart-item-name {
            font-weight: 500;
        }

        .cart-item-price {
            color: var(--secondary);
        }

        .cart-item-quantity {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .cart-item-quantity button {
            padding: 0.25rem 0.5rem;
        }

        .cart-footer {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
            padding-top: 0.5rem;
            border-top: 1px solid #e2e8f0;
        }

        .cart-total {
            display: flex;
            justify-content: space-between;
            font-weight: bold;
        }

        .actions {
            display: flex;
            gap: 0.5rem;
        }

        .customer-info {
            display: flex;
            gap: 0.5rem;
            align-items: center;
        }

        .customer-info input {
            flex: 1;
            padding: 0.5rem;
            border: 1px solid #e2e8f0;
            border-radius: 0.25rem;
        }

        .erp-status {
            margin-top: 1rem;
            padding: 0.5rem;
            background-color: var(--light);
            border-radius: 0.25rem;
            font-size: 0.875rem;
        }

        /* Modal styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .modal-content {
            background-color: white;
            padding: 2rem;
            border-radius: 0.5rem;
            max-width: 500px;
            width: 100%;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .modal-close {
            cursor: pointer;
            font-size: 1.5rem;
        }

        .payment-methods {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .payment-method {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 1rem;
            border: 1px solid #e2e8f0;
            border-radius: 0.25rem;
            cursor: pointer;
        }

        .payment-method.selected {
            border-color: var(--primary);
            background-color: var(--light);
        }

        .payment-info {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
            margin-bottom: 1rem;
        }

        .payment-info input {
            padding: 0.5rem;
            border: 1px solid #e2e8f0;
            border-radius: 0.25rem;
        }

        /* Receipt styles */
        .receipt {
            background-color: white;
            padding: 2rem;
            max-width: 300px;
            margin: 0 auto;
            border: 1px solid #e2e8f0;
        }

        .receipt-header {
            text-align: center;
            margin-bottom: 1rem;
        }

        .receipt-items {
            margin-bottom: 1rem;
        }

        .receipt-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.5rem;
        }

        .receipt-total {
            display: flex;
            justify-content: space-between;
            font-weight: bold;
            margin-top: 0.5rem;
            padding-top: 0.5rem;
            border-top: 1px solid #e2e8f0;
        }

        .receipt-footer {
            text-align: center;
            margin-top: 1rem;
            font-size: 0.875rem;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">POS System</div>
            <nav>
                <button id="sync-btn">Sync with Jim2</button>
                <button class="secondary">Sales History</button>
                <button class="secondary">Settings</button>
            </nav>
        </header>

        <section class="products-section">
            <div class="categories">
                <div class="category active">All</div>
                <div class="category">Electronics</div>
                <div class="category">Clothing</div>
                <div class="category">Food</div>
                <div class="category">Beverages</div>
                <div class="category">Household</div>
            </div>

            <div class="search-bar">
                <input type="text" placeholder="Search products...">
                <button>Search</button>
            </div>

            <div class="products-grid">
                <!-- Product items will be dynamically generated -->
            </div>
        </section>

        <section class="cart-section">
            <div class="cart-header">
                <h2>Shopping Cart</h2>
                <button class="danger" id="clear-cart">Clear</button>
            </div>

            <div class="customer-info">
                <input type="text" placeholder="Customer name or ID">
                <button>Find</button>
            </div>

            <div class="cart-items">
                <!-- Cart items will be dynamically added -->
            </div>

            <div class="cart-footer">
                <div class="cart-total">
                    <span>Total:</span>
                    <span id="cart-total-amount">$0.00</span>
                </div>
                <div class="actions">
                    <button class="success" id="checkout-btn">Checkout</button>
                    <button class="secondary">Hold</button>
                    <button class="secondary">Discount</button>
                </div>
            </div>

            <div class="erp-status">
                Jim2 ERP Status: <span id="erp-status">Not Connected</span>
            </div>
        </section>
    </div>

    <!-- Payment Modal -->
    <div class="modal" id="payment-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Payment</h2>
                <span class="modal-close">&times;</span>
            </div>
            <div class="payment-methods">
                <div class="payment-method selected">
                    <input type="radio" name="payment-method" id="cash" checked>
                    <label for="cash">Cash</label>
                </div>
                <div class="payment-method">
                    <input type="radio" name="payment-method" id="card">
                    <label for="card">Credit/Debit Card</label>
                </div>
                <div class="payment-method">
                    <input type="radio" name="payment-method" id="bank-transfer">
                    <label for="bank-transfer">Bank Transfer</label>
                </div>
            </div>
            <div class="payment-info">
                <input type="text" placeholder="Amount tendered">
            </div>
            <div class="cart-total">
                <span>Total:</span>
                <span id="modal-total-amount">$0.00</span>
            </div>
            <button class="success" id="complete-payment">Complete Payment</button>
        </div>
    </div>

    <!-- Receipt Modal -->
    <div class="modal" id="receipt-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Receipt</h2>
                <span class="modal-close">&times;</span>
            </div>
            <div class="receipt">
                <div class="receipt-header">
                    <h3>Your Company Name</h3>
                    <p>123 Business St, City</p>
                    <p>Tel: (123) 456-7890</p>
                    <p>Date: <span id="receipt-date"></span></p>
                    <p>Receipt #: <span id="receipt-number"></span></p>
                </div>
                <div class="receipt-items" id="receipt-items">
                    <!-- Receipt items will be dynamically added -->
                </div>
                <div class="receipt-total">
                    <span>Total:</span>
                    <span id="receipt-total-amount">$0.00</span>
                </div>
                <div class="receipt-footer">
                    <p>Thank you for your purchase!</p>
                    <p>Jim2 ERP Reference: <span id="erp-reference">--</span></p>
                </div>
            </div>
            <button class="secondary" id="print-receipt">Print Receipt</button>
            <button class="success" id="new-sale">New Sale</button>
        </div>
    </div>

    <script>
        // Sample product data
        const products = [
            { id: 1, name: 'Laptop', price: 999.99, category: 'Electronics', image: '/api/placeholder/150/100' },
            { id: 2, name: 'Smartphone', price: 699.99, category: 'Electronics', image: '/api/placeholder/150/100' },
            { id: 3, name: 'Headphones', price: 149.99, category: 'Electronics', image: '/api/placeholder/150/100' },
            { id: 4, name: 'T-shirt', price: 19.99, category: 'Clothing', image: '/api/placeholder/150/100' },
            { id: 5, name: 'Jeans', price: 49.99, category: 'Clothing', image: '/api/placeholder/150/100' },
            { id: 6, name: 'Jacket', price: 89.99, category: 'Clothing', image: '/api/placeholder/150/100' },
            { id: 7, name: 'Bread', price: 3.99, category: 'Food', image: '/api/placeholder/150/100' },
            { id: 8, name: 'Cheese', price: 5.99, category: 'Food', image: '/api/placeholder/150/100' },
            { id: 9, name: 'Coffee', price: 4.99, category: 'Beverages', image: '/api/placeholder/150/100' },
            { id: 10, name: 'Tea', price: 3.49, category: 'Beverages', image: '/api/placeholder/150/100' },
            { id: 11, name: 'Water Bottle', price: 1.99, category: 'Beverages', image: '/api/placeholder/150/100' },
            { id: 12, name: 'Cleaning Spray', price: 4.99, category: 'Household', image: '/api/placeholder/150/100' },
        ];

        // Cart data
        let cart = [];
        let selectedCategory = 'All';
        let erpConnected = false;
        let receiptNumber = generateReceiptNumber();

        // DOM elements
        const productsGrid = document.querySelector('.products-grid');
        const cartItems = document.querySelector('.cart-items');
        const cartTotalAmount = document.getElementById('cart-total-amount');
        const modalTotalAmount = document.getElementById('modal-total-amount');
        const receiptTotalAmount = document.getElementById('receipt-total-amount');
        const checkoutBtn = document.getElementById('checkout-btn');
        const clearCartBtn = document.getElementById('clear-cart');
        const paymentModal = document.getElementById('payment-modal');
        const receiptModal = document.getElementById('receipt-modal');
        const completePaymentBtn = document.getElementById('complete-payment');
        const newSaleBtn = document.getElementById('new-sale');
        const syncBtn = document.getElementById('sync-btn');
        const erpStatus = document.getElementById('erp-status');
        const receiptItems = document.getElementById('receipt-items');
        const receiptDate = document.getElementById('receipt-date');
        const receiptNumberElement = document.getElementById('receipt-number');
        const erpReference = document.getElementById('erp-reference');
        const categories = document.querySelectorAll('.category');
        const modalCloseButtons = document.querySelectorAll('.modal-close');
        const paymentMethods = document.querySelectorAll('.payment-method');
        const printReceiptBtn = document.getElementById('print-receipt');

        // Initialize
        function init() {
            renderProducts();
            updateCartTotal();
            attachEventListeners();
        }

        // Render products
        function renderProducts() {
            productsGrid.innerHTML = '';
            
            const filteredProducts = selectedCategory === 'All' 
                ? products 
                : products.filter(product => product.category === selectedCategory);
            
            filteredProducts.forEach(product => {
                const productElement = document.createElement('div');
                productElement.className = 'product';
                productElement.innerHTML = `
                    <img src="${product.image}" alt="${product.name}">
                    <div class="product-name">${product.name}</div>
                    <div class="product-price">$${product.price.toFixed(2)}</div>
                `;
                productElement.addEventListener('click', () => addToCart(product));
                productsGrid.appendChild(productElement);
            });
        }

        // Add product to cart
        function addToCart(product) {
            const existingItem = cart.find(item => item.id === product.id);
            
            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                cart.push({...product, quantity: 1});
            }
            
            renderCart();
            updateCartTotal();
        }

        // Render cart
        function renderCart() {
            cartItems.innerHTML = '';
            
            if (cart.length === 0) {
                cartItems.innerHTML = '<div class="cart-empty">Cart is empty</div>';
                return;
            }
            
            cart.forEach(item => {
                const cartItemElement = document.createElement('div');
                cartItemElement.className = 'cart-item';
                cartItemElement.innerHTML = `
                    <div class="cart-item-info">
                        <div class="cart-item-name">${item.name}</div>
                        <div class="cart-item-price">$${item.price.toFixed(2)}</div>
                    </div>
                    <div class="cart-item-quantity">
                        <button class="decrease-quantity" data-id="${item.id}">-</button>
                        <span>${item.quantity}</span>
                        <button class="increase-quantity" data-id="${item.id}">+</button>
                    </div>
                `;
                cartItems.appendChild(cartItemElement);
                
                // Add event listeners for quantity buttons
                cartItemElement.querySelector('.decrease-quantity').addEventListener('click', () => {
                    decreaseQuantity(item.id);
                });
                
                cartItemElement.querySelector('.increase-quantity').addEventListener('click', () => {
                    increaseQuantity(item.id);
                });
            });
        }

        // Increase item quantity
        function increaseQuantity(id) {
            const item = cart.find(item => item.id === id);
            if (item) {
                item.quantity += 1;
                renderCart();
                updateCartTotal();
            }
        }

        // Decrease item quantity
        function decreaseQuantity(id) {
            const itemIndex = cart.findIndex(item => item.id === id);
            if (itemIndex !== -1) {
                if (cart[itemIndex].quantity > 1) {
                    cart[itemIndex].quantity -= 1;
                } else {
                    cart.splice(itemIndex, 1);
                }
                renderCart();
                updateCartTotal();
            }
        }

        // Clear cart
        function clearCart() {
            cart = [];
            renderCart();
            updateCartTotal();
        }

        // Update cart total
        function updateCartTotal() {
            const total = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            cartTotalAmount.textContent = `$${total.toFixed(2)}`;
            modalTotalAmount.textContent = `$${total.toFixed(2)}`;
            receiptTotalAmount.textContent = `$${total.toFixed(2)}`;
        }

        // Generate receipt
        function generateReceipt() {
            receiptItems.innerHTML = '';
            
            cart.forEach(item => {
                const receiptItem = document.createElement('div');
                receiptItem.className = 'receipt-item';
                receiptItem.innerHTML = `
                    <div>${item.quantity} x ${item.name}</div>
                    <div>$${(item.price * item.quantity).toFixed(2)}</div>
                `;
                receiptItems.appendChild(receiptItem);
            });
            
            const currentDate = new Date();
            receiptDate.textContent = currentDate.toLocaleDateString();
            receiptNumberElement.textContent = receiptNumber;
            
            if (erpConnected) {
                erpReference.textContent = `J2-${Math.floor(Math.random() * 10000)}`;
            } else {
                erpReference.textContent = 'Not Synced';
            }
        }

        // Generate receipt number
        function generateReceiptNumber() {
            return `RCP-${Math.floor(Math.random() * 100000)}`;
        }

        // Simulate ERP connection
        function toggleErpConnection() {
            erpConnected = !erpConnected;
            erpStatus.textContent = erpConnected ? 'Connected' : 'Not Connected';
            erpStatus.style.color = erpConnected ? 'green' : 'red';
            
            // Show notification
            alert(erpConnected 
                ? 'Successfully connected to Jim2 ERP. Inventory and customer data synchronized.' 
                : 'Disconnected from Jim2 ERP. Working in offline mode.');
        }

        // Attach event listeners
        function attachEventListeners() {
            // Category selection
            categories.forEach(category => {
                category.addEventListener('click', () => {
                    categories.forEach(c => c.classList.remove('active'));
                    category.classList.add('active');
                    selectedCategory = category.textContent;
                    renderProducts();
                });
            });
            
            // Checkout button
            checkoutBtn.addEventListener('click', () => {
                if (cart.length === 0) {
                    alert('Cart is empty');
                    return;
                }
                paymentModal.style.display = 'flex';
            });
            
            // Clear cart button
            clearCartBtn.addEventListener('click', clearCart);
            
            // Complete payment button
            completePaymentBtn.addEventListener('click', () => {
                paymentModal.style.display = 'none';
                generateReceipt();
                receiptModal.style.display = 'flex';
                
                // If connected to ERP, send sale data
                if (erpConnected) {
                    // Simulate sending data to Jim2 ERP
                    console.log('Sending sale data to Jim2 ERP...');
                }
            });
            
            // New sale button
            newSaleBtn.addEventListener('click', () => {
                receiptModal.style.display = 'none';
                clearCart();
                receiptNumber = generateReceiptNumber();
            });
            
            // Print receipt button
            printReceiptBtn.addEventListener('click', () => {
                alert('Printing receipt...');
            });
            
            // Modal close buttons
            modalCloseButtons.forEach(button => {
                button.addEventListener('click', () => {
                    paymentModal.style.display = 'none';
                    receiptModal.style.display = 'none';
                });
            });
            
            // Payment method selection
            paymentMethods.forEach(method => {
                method.addEventListener('click', () => {
                    paymentMethods.forEach(m => m.classList.remove('selected'));
                    method.classList.add('selected');
                    method.querySelector('input').checked = true;
                });
            });
            
            // ERP sync button
            syncBtn.addEventListener('click', toggleErpConnection);
        }

        // Initialize the application
        init();
    </script>
</body>
</html>
