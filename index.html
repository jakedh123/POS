<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Simple POS System</title>
    <style>
        :root {
            --primary: #2563eb;
            --primary-dark: #1d4ed8;
            --secondary: #64748b;
            --danger: #ef4444;
            --success: #10b981;
            --light: #f1f5f9;
            --dark: #1e293b;
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }

        body {
            background-color: #f8fafc;
            color: var(--dark);
        }

        .container {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 1rem;
            padding: 1rem;
            max-width: 1400px;
            margin: 0 auto;
            height: 100vh;
        }

        header {
            grid-column: 1 / -1;
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.5rem 1rem;
            background-color: white;
            border-radius: 0.5rem;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        .logo {
            font-size: 1.5rem;
            font-weight: bold;
            color: var(--primary);
        }

        nav {
            display: flex;
            gap: 1rem;
        }

        button {
            padding: 0.5rem 1rem;
            border: none;
            border-radius: 0.25rem;
            background-color: var(--primary);
            color: white;
            cursor: pointer;
            font-weight: 500;
            transition: background-color 0.2s;
        }

        button:hover {
            background-color: var(--primary-dark);
        }

        button.secondary {
            background-color: var(--secondary);
        }

        button.danger {
            background-color: var(--danger);
        }

        button.success {
            background-color: var(--success);
        }

        .products-section {
            display: flex;
            flex-direction: column;
            gap: 1rem;
        }

        .categories {
            display: flex;
            gap: 0.5rem;
            overflow-x: auto;
            padding-bottom: 0.5rem;
        }

        .category {
            padding: 0.5rem 1rem;
            background-color: white;
            border-radius: 0.25rem;
            cursor: pointer;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        .category.active {
            background-color: var(--primary);
            color: white;
        }

        .search-bar {
            display: flex;
            gap: 0.5rem;
            padding: 0.5rem;
            background-color: white;
            border-radius: 0.25rem;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
        }

        .search-bar input {
            flex: 1;
            padding: 0.5rem;
            border: 1px solid #e2e8f0;
            border-radius: 0.25rem;
        }

        .products-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));
            gap: 1rem;
            overflow-y: auto;
            padding: 0.5rem;
            background-color: white;
            border-radius: 0.5rem;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            flex: 1;
        }

        .product {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
            padding: 1rem;
            background-color: var(--light);
            border-radius: 0.25rem;
            cursor: pointer;
            transition: transform 0.2s;
        }

        .product:hover {
            transform: translateY(-5px);
        }

        .product img {
            width: 100%;
            height: 100px;
            object-fit: cover;
            border-radius: 0.25rem;
        }

        .product-name {
            font-weight: 500;
        }

        .product-price {
            font-weight: bold;
            color: var(--primary);
        }

        .cart-section {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            background-color: white;
            border-radius: 0.5rem;
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
            padding: 1rem;
        }

        .cart-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .cart-items {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
            overflow-y: auto;
            flex: 1;
        }

        .cart-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 0.5rem;
            background-color: var(--light);
            border-radius: 0.25rem;
        }

        .cart-item-info {
            display: flex;
            flex-direction: column;
        }

        .cart-item-name {
            font-weight: 500;
        }

        .cart-item-price {
            color: var(--secondary);
        }

        .cart-item-quantity {
            display: flex;
            align-items: center;
            gap: 0.5rem;
        }

        .cart-item-quantity button {
            padding: 0.25rem 0.5rem;
        }

        .cart-footer {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
            padding-top: 0.5rem;
            border-top: 1px solid #e2e8f0;
        }

        .cart-total {
            display: flex;
            justify-content: space-between;
            font-weight: bold;
        }

        .discount-info {
            display: none;
            margin-bottom: 0.5rem;
        }

        .actions {
            display: flex;
            gap: 0.5rem;
        }

        .customer-info {
            display: flex;
            gap: 0.5rem;
            align-items: center;
        }

        .customer-info input {
            flex: 1;
            padding: 0.5rem;
            border: 1px solid #e2e8f0;
            border-radius: 0.25rem;
        }

        .erp-status {
            margin-top: 1rem;
            padding: 0.5rem;
            background-color: var(--light);
            border-radius: 0.25rem;
            font-size: 0.875rem;
        }

        /* Modal styles */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(0, 0, 0, 0.5);
            justify-content: center;
            align-items: center;
            z-index: 1000;
        }

        .modal-content {
            background-color: white;
            padding: 2rem;
            border-radius: 0.5rem;
            max-width: 500px;
            width: 100%;
        }

        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 1rem;
        }

        .modal-close {
            cursor: pointer;
            font-size: 1.5rem;
        }

        .payment-methods {
            display: flex;
            flex-direction: column;
            gap: 1rem;
            margin-bottom: 1rem;
        }

        .payment-method {
            display: flex;
            align-items: center;
            gap: 0.5rem;
            padding: 1rem;
            border: 1px solid #e2e8f0;
            border-radius: 0.25rem;
            cursor: pointer;
        }

        .payment-method.selected {
            border-color: var(--primary);
            background-color: var(--light);
        }

        .payment-info {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
            margin-bottom: 1rem;
        }

        .payment-info input {
            padding: 0.5rem;
            border: 1px solid #e2e8f0;
            border-radius: 0.25rem;
        }

        /* Receipt styles */
        .receipt {
            background-color: white;
            padding: 2rem;
            max-width: 300px;
            margin: 0 auto;
            border: 1px solid #e2e8f0;
        }

        .receipt-header {
            text-align: center;
            margin-bottom: 1rem;
        }

        .receipt-items {
            margin-bottom: 1rem;
        }

        .receipt-item {
            display: flex;
            justify-content: space-between;
            margin-bottom: 0.5rem;
        }

        .receipt-total {
            display: flex;
            justify-content: space-between;
            font-weight: bold;
            margin-top: 0.5rem;
            padding-top: 0.5rem;
            border-top: 1px solid #e2e8f0;
        }

        .receipt-footer {
            text-align: center;
            margin-top: 1rem;
            font-size: 0.875rem;
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <div class="logo">POS System</div>
            <nav>
                <button id="sync-btn">Sync with Jim2</button>
                <button class="secondary" id="sales-history-btn">Sales History</button>
                <button class="secondary" id="settings-btn">Settings</button>
            </nav>
        </header>

        <section class="products-section">
            <div class="categories">
                <div class="category active">All</div>
                <div class="category">Electronics</div>
                <div class="category">Clothing</div>
                <div class="category">Food</div>
                <div class="category">Beverages</div>
                <div class="category">Household</div>
            </div>

            <div class="search-bar">
                <input type="text" placeholder="Search products...">
                <button>Search</button>
            </div>

            <div class="products-grid">
                <!-- Product items will be dynamically generated -->
            </div>
        </section>

        <section class="cart-section">
            <div class="cart-header">
                <h2>Shopping Cart</h2>
                <button class="danger" id="clear-cart">Clear</button>
            </div>

            <div class="customer-info">
                <input type="text" placeholder="Customer name or ID">
                <button>Find</button>
            </div>

            <div class="cart-items">
                <!-- Cart items will be dynamically added -->
            </div>

            <div class="cart-footer">
                <div class="discount-info">
                    <!-- Discount information will be added here -->
                </div>
                <div class="cart-total">
                    <span>Total:</span>
                    <span id="cart-total-amount">$0.00</span>
                </div>
                <div class="actions">
                    <button class="success" id="checkout-btn">Checkout</button>
                    <button class="secondary" id="hold-btn">Hold</button>
                    <button class="secondary" id="discount-btn">Discount</button>
                </div>
            </div>

            <div class="erp-status">
                Jim2 ERP Status: <span id="erp-status">Not Connected</span>
            </div>
        </section>
    </div>

    <!-- Payment Modal -->
    <div class="modal" id="payment-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Payment</h2>
                <span class="modal-close">&times;</span>
            </div>
            <div class="payment-methods">
                <div class="payment-method selected">
                    <input type="radio" name="payment-method" id="cash" checked>
                    <label for="cash">Cash</label>
                </div>
                <div class="payment-method">
                    <input type="radio" name="payment-method" id="card">
                    <label for="card">Credit/Debit Card</label>
                </div>
                <div class="payment-method">
                    <input type="radio" name="payment-method" id="bank-transfer">
                    <label for="bank-transfer">Bank Transfer</label>
                </div>
            </div>
            <div class="payment-info">
                <input type="text" placeholder="Amount tendered">
            </div>
            <div class="cart-total">
                <span>Total:</span>
                <span id="modal-total-amount">$0.00</span>
            </div>
            <button class="success" id="complete-payment">Complete Payment</button>
        </div>
    </div>

    <!-- Settings Modal -->
    <div class="modal" id="settings-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Settings</h2>
                <span class="modal-close">&times;</span>
            </div>
            <div style="display: flex; flex-direction: column; gap: 1rem;">
                <div>
                    <h3>General Settings</h3>
                    <div style="display: flex; flex-direction: column; gap: 0.5rem; margin-top: 0.5rem;">
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <label>Store Name</label>
                            <input type="text" value="My Store" style="padding: 0.5rem; border: 1px solid #e2e8f0; border-radius: 0.25rem;">
                        </div>
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <label>Currency</label>
                            <select style="padding: 0.5rem; border: 1px solid #e2e8f0; border-radius: 0.25rem;">
                                <option>USD ($)</option>
                                <option>EUR (€)</option>
                                <option>GBP (£)</option>
                                <option>AUD ($)</option>
                            </select>
                        </div>
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <label>Tax Rate (%)</label>
                            <input type="number" value="10" style="padding: 0.5rem; border: 1px solid #e2e8f0; border-radius: 0.25rem;">
                        </div>
                    </div>
                </div>
                
                <div>
                    <h3>Jim2 ERP Integration</h3>
                    <div style="display: flex; flex-direction: column; gap: 0.5rem; margin-top: 0.5rem;">
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <label>API Endpoint</label>
                            <input type="text" value="https://jim2.yourcompany.com/api" style="padding: 0.5rem; border: 1px solid #e2e8f0; border-radius: 0.25rem;">
                        </div>
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <label>API Key</label>
                            <input type="password" value="••••••••••••••••" style="padding: 0.5rem; border: 1px solid #e2e8f0; border-radius: 0.25rem;">
                        </div>
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <label>Auto-Sync</label>
                            <input type="checkbox" checked>
                        </div>
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <label>Sync Interval (minutes)</label>
                            <input type="number" value="15" style="padding: 0.5rem; border: 1px solid #e2e8f0; border-radius: 0.25rem;">
                        </div>
                    </div>
                </div>
                
                <div>
                    <h3>Receipt Settings</h3>
                    <div style="display: flex; flex-direction: column; gap: 0.5rem; margin-top: 0.5rem;">
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <label>Header Text</label>
                            <input type="text" value="Thank you for your purchase!" style="padding: 0.5rem; border: 1px solid #e2e8f0; border-radius: 0.25rem;">
                        </div>
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <label>Footer Text</label>
                            <input type="text" value="Please come again!" style="padding: 0.5rem; border: 1px solid #e2e8f0; border-radius: 0.25rem;">
                        </div>
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <label>Print Receipt Automatically</label>
                            <input type="checkbox" checked>
                        </div>
                    </div>
                </div>
                
                <div>
                    <h3>User Access</h3>
                    <div style="display: flex; flex-direction: column; gap: 0.5rem; margin-top: 0.5rem;">
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <label>Require PIN for Refunds</label>
                            <input type="checkbox" checked>
                        </div>
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <label>Require PIN for Discounts</label>
                            <input type="checkbox" checked>
                        </div>
                        <div style="display: flex; justify-content: space-between; align-items: center;">
                            <label>Manager PIN</label>
                            <input type="password" value="••••" style="padding: 0.5rem; border: 1px solid #e2e8f0; border-radius: 0.25rem;">
                        </div>
                    </div>
                </div>
            </div>
            <div style="margin-top: 1rem; display: flex; justify-content: flex-end; gap: 0.5rem;">
                <button class="secondary modal-close-btn">Cancel</button>
                <button class="success">Save Changes</button>
            </div>
        </div>
    </div>

    <!-- Sales History Modal -->
    <div class="modal" id="sales-history-modal">
        <div class="modal-content" style="max-width: 800px;">
            <div class="modal-header">
                <h2>Sales History</h2>
                <span class="modal-close">&times;</span>
            </div>
            <div style="margin-bottom: 1rem; display: flex; justify-content: space-between; align-items: center;">
                <div style="display: flex; gap: 0.5rem;">
                    <input type="date" style="padding: 0.5rem; border: 1px solid #e2e8f0; border-radius: 0.25rem;">
                    <input type="date" style="padding: 0.5rem; border: 1px solid #e2e8f0; border-radius: 0.25rem;">
                    <button>Filter</button>
                </div>
                <div>
                    <input type="text" placeholder="Search receipts..." style="padding: 0.5rem; border: 1px solid #e2e8f0; border-radius: 0.25rem;">
                </div>
            </div>
            <div style="overflow-x: auto;">
                <table style="width: 100%; border-collapse: collapse; margin-bottom: 1rem;">
                    <thead>
                        <tr style="background-color: var(--light);">
                            <th style="padding: 0.75rem; text-align: left; border-bottom: 1px solid #e2e8f0;">Receipt #</th>
                            <th style="padding: 0.75rem; text-align: left; border-bottom: 1px solid #e2e8f0;">Date & Time</th>
                            <th style="padding: 0.75rem; text-align: left; border-bottom: 1px solid #e2e8f0;">Customer</th>
                            <th style="padding: 0.75rem; text-align: right; border-bottom: 1px solid #e2e8f0;">Items</th>
                            <th style="padding: 0.75rem; text-align: right; border-bottom: 1px solid #e2e8f0;">Total</th>
                            <th style="padding: 0.75rem; text-align: center; border-bottom: 1px solid #e2e8f0;">ERP Status</th>
                            <th style="padding: 0.75rem; text-align: center; border-bottom: 1px solid #e2e8f0;">Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td style="padding: 0.75rem; border-bottom: 1px solid #e2e8f0;">RCP-58392</td>
                            <td style="padding: 0.75rem; border-bottom: 1px solid #e2e8f0;">2025-02-26 10:23 AM</td>
                            <td style="padding: 0.75rem; border-bottom: 1px solid #e2e8f0;">John Smith</td>
                            <td style="padding: 0.75rem; border-bottom: 1px solid #e2e8f0; text-align: right;">3</td>
                            <td style="padding: 0.75rem; border-bottom: 1px solid #e2e8f0; text-align: right;">$1,849.97</td>
                            <td style="padding: 0.75rem; border-bottom: 1px solid #e2e8f0; text-align: center;"><span style="color: green;">Synced</span></td>
                            <td style="padding: 0.75rem; border-bottom: 1px solid #e2e8f0; text-align: center;">
                                <button style="padding: 0.25rem 0.5rem;">View</button>
                                <button style="padding: 0.25rem 0.5rem;">Print</button>
                            </td>
                        </tr>
                        <tr>
                            <td style="padding: 0.75rem; border-bottom: 1px solid #e2e8f0;">RCP-58391</td>
                            <td style="padding: 0.75rem; border-bottom: 1px solid #e2e8f0;">2025-02-26 09:45 AM</td>
                            <td style="padding: 0.75rem; border-bottom: 1px solid #e2e8f0;">Sarah Johnson</td>
                            <td style="padding: 0.75rem; border-bottom: 1px solid #e2e8f0; text-align: right;">1</td>
                            <td style="padding: 0.75rem; border-bottom: 1px solid #e2e8f0; text-align: right;">$149.99</td>
                            <td style="padding: 0.75rem; border-bottom: 1px solid #e2e8f0; text-align: center;"><span style="color: green;">Synced</span></td>
                            <td style="padding: 0.75rem; border-bottom: 1px solid #e2e8f0; text-align: center;">
                                <button style="padding: 0.25rem 0.5rem;">View</button>
                                <button style="padding: 0.25rem 0.5rem;">Print</button>
                            </td>
                        </tr>
                        <tr>
                            <td style="padding: 0.75rem; border-bottom: 1px solid #e2e8f0;">RCP-58390</td>
                            <td style="padding: 0.75rem; border-bottom: 1px solid #e2e8f0;">2025-02-25 04:12 PM</td>
                            <td style="padding: 0.75rem; border-bottom: 1px solid #e2e8f0;">Guest</td>
                            <td style="padding: 0.75rem; border-bottom: 1px solid #e2e8f0; text-align: right;">2</td>
                            <td style="padding: 0.75rem; border-bottom: 1px solid #e2e8f0; text-align: right;">$9.48</td>
                            <td style="padding: 0.75rem; border-bottom: 1px solid #e2e8f0; text-align: center;"><span style="color: green;">Synced</span></td>
                            <td style="padding: 0.75rem; border-bottom: 1px solid #e2e8f0; text-align: center;">
                                <button style="padding: 0.25rem 0.5rem;">View</button>
                                <button style="padding: 0.25rem 0.5rem;">Print</button>
                            </td>
                        </tr>
                        <tr>
                            <td style="padding: 0.75rem; border-bottom: 1px solid #e2e8f0;">RCP-58389</td>
                            <td style="padding: 0.75rem; border-bottom: 1px solid #e2e8f0;">2025-02-25 02:37 PM</td>
                            <td style="padding: 0.75rem; border-bottom: 1px solid #e2e8f0;">Michael Brown</td>
                            <td style="padding: 0.75rem; border-bottom: 1px solid #e2e8f0; text-align: right;">5</td>
                            <td style="padding: 0.75rem; border-bottom: 1px solid #e2e8f0; text-align: right;">$243.95</td>
                            <td style="padding: 0.75rem; border-bottom: 1px solid #e2e8f0; text-align: center;"><span style="color: red;">Error</span></td>
                            <td style="padding: 0.75rem; border-bottom: 1px solid #e2e8f0; text-align: center;">
                                <button style="padding: 0.25rem 0.5rem;">View</button>
                                <button style="padding: 0.25rem 0.5rem;">Retry</button>
                            </td>
                        </tr>
                        <tr>
                            <td style="padding: 0.75rem; border-bottom: 1px solid #e2e8f0;">RCP-58388</td>
                            <td style="padding: 0.75rem; border-bottom: 1px solid #e2e8f0;">2025-02-25 11:19 AM</td>
                            <td style="padding: 0.75rem; border-bottom: 1px solid #e2e8f0;">Emma Wilson</td>
                            <td style="padding: 0.75rem; border-bottom: 1px solid #e2e8f0; text-align: right;">4</td>
                            <td style="padding: 0.75rem; border-bottom: 1px solid #e2e8f0; text-align: right;">$139.96</td>
                            <td style="padding: 0.75rem; border-bottom: 1px solid #e2e8f0; text-align: center;"><span style="color: green;">Synced</span></td>
                            <td style="padding: 0.75rem; border-bottom: 1px solid #e2e8f0; text-align: center;">
                                <button style="padding: 0.25rem 0.5rem;">View</button>
                                <button style="padding: 0.25rem 0.5rem;">Print</button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            <div style="display: flex; justify-content: space-between; align-items: center;">
                <div>
                    Showing 5 of 134 transactions
                </div>
                <div style="display: flex; gap: 0.5rem;">
                    <button style="padding: 0.25rem 0.5rem;">Previous</button>
                    <button style="padding: 0.25rem 0.5rem;">Next</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Discount Modal -->
    <div class="modal" id="discount-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Apply Discount</h2>
                <span class="modal-close">&times;</span>
            </div>
            <div style="margin-bottom: 1rem;">
                <p>Current Total: <span id="discount-current-total">$0.00</span></p>
            </div>
            <div style="display: flex; flex-direction: column; gap: 1rem;">
                <div>
                    <h3>Discount Type</h3>
                    <div style="display: flex; gap: 1rem; margin-top: 0.5rem;">
                        <div class="payment-method selected" id="percent-discount">
                            <input type="radio" name="discount-type" id="percent" checked>
                            <label for="percent">Percentage (%)</label>
                        </div>
                        <div class="payment-method" id="amount-discount">
                            <input type="radio" name="discount-type" id="amount">
                            <label for="amount">Fixed Amount ($)</label>
                        </div>
                    </div>
                </div>
                
                <div>
                    <h3>Discount Value</h3>
                    <div style="margin-top: 0.5rem;">
                        <input type="number" placeholder="Enter discount" id="discount-value" style="padding: 0.5rem; border: 1px solid #e2e8f0; border-radius: 0.25rem; width: 100%;">
                    </div>
                </div>
                
                <div>
                    <h3>Apply To</h3>
                    <div style="display: flex; gap: 1rem; margin-top: 0.5rem;">
                        <div class="payment-method selected" id="entire-order">
                            <input type="radio" name="discount-apply" id="order" checked>
                            <label for="order">Entire Order</label>
                        </div>
                        <div class="payment-method" id="selected-items">
                            <input type="radio" name="discount-apply" id="items">
                            <label for="items">Selected Items</label>
                        </div>
                    </div>
                </div>
                
                <div>
                    <h3>Reason (Optional)</h3>
                    <div style="margin-top: 0.5rem;">
                        <select style="padding: 0.5rem; border: 1px solid #e2e8f0; border-radius: 0.25rem; width: 100%;">
                            <option>Customer Loyalty</option>
                            <option>Damaged Product</option>
                            <option>Promotional Offer</option>
                            <option>Manager Override</option>
                            <option>Other</option>
                        </select>
                    </div>
                </div>
            </div>
            
            <div style="margin-top: 1rem; border-top: 1px solid #e2e8f0; padding-top: 1rem;">
                <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                    <span>Original Total:</span>
                    <span id="discount-original-total">$0.00</span>
                </div>
                <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                    <span>Discount:</span>
                    <span id="discount-amount">$0.00</span>
                </div>
                <div style="display: flex; justify-content: space-between; font-weight: bold;">
                    <span>New Total:</span>
                    <span id="discount-new-total">$0.00</span>
                </div>
            </div>
            
            <div style="margin-top: 1rem; display: flex; justify-content: space-between;">
                <button class="secondary modal-close-btn">Cancel</button>
                <button class="success" id="apply-discount">Apply Discount</button>
            </div>
        </div>
    </div>

    <!-- Hold Sale Modal -->
    <div class="modal" id="hold-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Hold Sale</h2>
                <span class="modal-close">&times;</span>
            </div>
            <div style="margin-bottom: 1rem;">
                <p>Current sale will be saved for later processing. You can retrieve it from the Held Sales list.</p>
            </div>
            
            <div>
                <h3>Customer Information (Optional)</h3>
                <div style="display: flex; flex-direction: column; gap: 0.5rem; margin-top: 0.5rem;">
                    <input type="text" placeholder="Customer Name" style="padding: 0.5rem; border: 1px solid #e2e8f0; border-radius: 0.25rem;">
                    <input type="text" placeholder="Phone Number" style="padding: 0.5rem; border: 1px solid #e2e8f0; border-radius: 0.25rem;">
                    <input type="email" placeholder="Email" style="padding: 0.5rem; border: 1px solid #e2e8f0; border-radius: 0.25rem;">
                </div>
            </div>
            
            <div style="margin-top: 1rem;">
                <h3>Notes</h3>
                <div style="margin-top: 0.5rem;">
                    <textarea placeholder="Add notes about this held sale" style="padding: 0.5rem; border: 1px solid #e2e8f0; border-radius: 0.25rem; width: 100%; min-height: 100px;"></textarea>
                </div>
            </div>
            
            <div style="margin-top: 1rem;">
                <h3>Held Sale Summary</h3>
                <div style="margin-top: 0.5rem; padding: 0.5rem; background-color: var(--light); border-radius: 0.25rem;">
                    <div style="display: flex; justify-content: space-between; margin-bottom: 0.5rem;">
                        <span>Items:</span>
                        <span id="hold-items-count">0</span>
                    </div>
                    <div style="display: flex; justify-content: space-between; font-weight: bold;">
                        <span>Total Value:</span>
                        <span id="hold-total-value">$0.00</span>
                    </div>
                </div>
            </div>
            
            <div style="margin-top: 1rem; display: flex; justify-content: space-between;">
                <button class="secondary modal-close-btn">Cancel</button>
                <button class="success" id="confirm-hold">Hold Sale</button>
            </div>
        </div>
    </div>

    <!-- Held Sales List Modal -->
    <div class="modal" id="held-sales-modal">
        <div class="modal-content" style="max-width: 700px;">
            <div class="modal-header">
                <h2>Held Sales</h2>
                <span class="modal-close">&times;</span>
            </div>
            
            <div style="margin-bottom: 1rem;">
                <input type="text" placeholder="Search held sales..." style="padding: 0.5rem; border: 1px solid #e2e8f0; border-radius: 0.25rem; width: 100%;">
            </div>
            
            <div style="overflow-y: auto; max-height: 400px;">
                <table style="width: 100%; border-collapse: collapse;">
                    <thead>
                        <tr style="background-color: var(--light);">
                            <th style="padding: 0.75rem; text-align: left; border-bottom: 1px solid #e2e8f0;">ID</th>
                            <th style="padding: 0.75rem; text-align: left; border-bottom: 1px solid #e2e8f0;">Customer</th>
                            <th style="padding: 0.75rem; text-align: left; border-bottom: 1px solid #e2e8f0;">Date</th>
                            <th style="padding: 0.75rem; text-align: right; border-bottom: 1px solid #e2e8f0;">Items</th>
                            <th style="padding: 0.75rem; text-align: right; border-bottom: 1px solid #e2e8f0;">Total</th>
                            <th style="padding: 0.75rem; text-align: center; border-bottom: 1px solid #e2e8f0;">Actions</th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr>
                            <td style="padding: 0.75rem; border-bottom: 1px solid #e2e8f0;">HOLD-001</td>
                            <td style="padding: 0.75rem; border-bottom: 1px solid #e2e8f0;">David Lee</td>
                            <td style="padding: 0.75rem; border-bottom: 1px solid #e2e8f0;">2025-02-26</td>
                            <td style="padding: 0.75rem; border-bottom: 1px solid #e2e8f0; text-align: right;">3</td>
                            <td style="padding: 0.75rem; border-bottom: 1px solid #e2e8f0; text-align: right;">$249.97</td>
                            <td style="padding: 0.75rem; border-bottom: 1px solid #e2e8f0; text-align: center;">
                                <button style="padding: 0.25rem 0.5rem;">Recall</button>
                                <button style="padding: 0.25rem 0.5rem; background-color: var(--danger);">Delete</button>
                            </td>
                        </tr>
                        <tr>
                            <td style="padding: 0.75rem; border-bottom: 1px solid #e2e8f0;">HOLD-002</td>
                            <td style="padding: 0.75rem; border-bottom: 1px solid #e2e8f0;">Amanda Parker</td>
                            <td style="padding: 0.75rem; border-bottom: 1px solid #e2e8f0;">2025-02-25</td>
                            <td style="padding: 0.75rem; border-bottom: 1px solid #e2e8f0; text-align: right;">1</td>
                            <td style="padding: 0.75rem; border-bottom: 1px solid #e2e8f0; text-align: right;">$999.99</td>
                            <td style="padding: 0.75rem; border-bottom: 1px solid #e2e8f0; text-align: center;">
                                <button style="padding: 0.25rem 0.5rem;">Recall</button>
                                <button style="padding: 0.25rem 0.5rem; background-color: var(--danger);">Delete</button>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
            
            <div style="margin-top: 1rem; text-align: center; color: var(--secondary);">
                <p>Note: Held sales are stored locally and will be cleared after 30 days</p>
            </div>
        </div>
    </div>

    <!-- Receipt Modal -->
    <div class="modal" id="receipt-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Receipt</h2>
                <span class="modal-close">&times;</span>
            </div>
            <div class="receipt">
                <div class="receipt-header">
                    <h3>Your Company Name</h3>
                    <p>123 Business St, City</p>
                    <p>Tel: (123) 456-7890</p>
                    <p>Date: <span id="receipt-date"></span></p>
                    <p>Receipt #: <span id="receipt-number"></span></p>
                </div>
                <div class="receipt-items" id="receipt-items">
                    <!-- Receipt items will be dynamically added -->
                </div>
                <div class="receipt-total">
                    <span>Total:</span>
                    <span id="receipt-total-amount">$0.00</span>
                </div>
                <div class="receipt-footer">
                    <p>Thank you for your purchase!</p>
                    <p>Jim2 ERP Reference: <span id="erp-reference">--</span></p>
                </div>
            </div>
            <button class="secondary" id="print-receipt">Print Receipt</button>
            <button class="success" id="new-sale">New Sale</button>
        </div>
    </div>

    <script>
        // Sample product data
        const products = [
            { id: 1, name: 'Laptop', price: 999.99, category: 'Electronics', image: '/api/placeholder/150/100' },
            { id: 2, name: 'Smartphone', price: 699.99, category: 'Electronics', image: '/api/placeholder/150/100' },
            { id: 3, name: 'Headphones', price: 149.99, category: 'Electronics', image: '/api/placeholder/150/100' },
            { id: 4, name: 'T-shirt', price: 19.99, category: 'Clothing', image: '/api/placeholder/150/100' },
            { id: 5, name: 'Jeans', price: 49.99, category: 'Clothing', image: '/api/placeholder/150/100' },
            { id: 6, name: 'Jacket', price: 89.99, category: 'Clothing', image: '/api/placeholder/150/100' },
            { id: 7, name: 'Bread', price: 3.99, category: 'Food', image: '/api/placeholder/150/100' },
            { id: 8, name: 'Cheese', price: 5.99, category: 'Food', image: '/api/placeholder/150/100' },
            { id: 9, name: 'Coffee', price: 4.99, category: 'Beverages', image: '/api/placeholder/150/100' },
            { id: 10, name: 'Tea', price: 3.49, category: 'Beverages', image: '/api/placeholder/150/100' },
            { id: 11, name: 'Water Bottle', price: 1.99, category: 'Beverages', image: '/api/placeholder/150/100' },
            { id: 12, name: 'Cleaning Spray', price: 4.99, category: 'Household', image: '/api/placeholder/150/100' },
        ];

        // Cart data
        let cart = [];
        let selectedCategory = 'All';
        let erpConnected = false;
        let receiptNumber = generateReceiptNumber();
        let heldSales = [];
        let discountAmount = 0;
        let discountType = 'percent';
        let appliedDiscount = false;

        // DOM elements
        const productsGrid = document.querySelector('.products-grid');
        const cartItems = document.querySelector('.cart-items');
        const cartTotalAmount = document.getElementById('cart-total-amount');
        const modalTotalAmount = document.getElementById('modal-total-amount');
        const receiptTotalAmount = document.getElementById('receipt-total-amount');
        const checkoutBtn = document.getElementById('checkout-btn');
        const clearCartBtn = document.getElementById('clear-cart');
        const paymentModal = document.getElementById('payment-modal');
        const receiptModal = document.getElementById('receipt-modal');
        const completePaymentBtn = document.getElementById('complete-payment');
        const newSaleBtn = document.getElementById('new-sale');
        const syncBtn = document.getElementById('sync-btn');
        const erpStatus = document.getElementById('erp-status');
        const receiptItems = document.getElementById('receipt-items');
        const receiptDate = document.getElementById('receipt-date');
        const receiptNumberElement = document.getElementById('receipt-number');
        const erpReference = document.getElementById('erp-reference');
        const categories = document.querySelectorAll('.category');
        const modalCloseButtons = document.querySelectorAll('.modal-close');
        const paymentMethods = document.querySelectorAll('.payment-method');
        const printReceiptBtn = document.getElementById('print-receipt');
        const holdBtn = document.getElementById('hold-btn');
        const discountBtn = document.getElementById('discount-btn');
        const settingsBtn = document.getElementById('settings-btn');
        const salesHistoryBtn = document.getElementById('sales-history-btn');
        const applyDiscountBtn = document.getElementById('apply-discount');
        const confirmHoldBtn = document.getElementById('confirm-hold');
        const discountValueInput = document.getElementById('discount-value');
        const percentDiscountBtn = document.getElementById('percent-discount');
        const amountDiscountBtn = document.getElementById('amount-discount');

        // Initialize
        function init() {
            renderProducts();
            updateCartTotal();
            attachEventListeners();
        }

        // Render products
        function renderProducts() {
            productsGrid.innerHTML = '';
            
            const filteredProducts = selectedCategory === 'All' 
                ? products 
                : products.filter(product => product.category === selectedCategory);
            
            filteredProducts.forEach(product => {
                const productElement = document.createElement('div');
                productElement.className = 'product';
                productElement.innerHTML = `
                    <img src="${product.image}" alt="${product.name}">
                    <div class="product-name">${product.name}</div>
                    <div class="product-price">${product.price.toFixed(2)}</div>
                `;
                productElement.addEventListener('click', () => addToCart(product));
                productsGrid.appendChild(productElement);
            });
        }

        // Add product to cart
        function addToCart(product) {
            const existingItem = cart.find(item => item.id === product.id);
            
            if (existingItem) {
                existingItem.quantity += 1;
            } else {
                cart.push({...product, quantity: 1});
            }
            
            renderCart();
            updateCartTotal();
        }

        // Render cart
        function renderCart() {
            cartItems.innerHTML = '';
            
            if (cart.length === 0) {
                cartItems.innerHTML = '<div class="cart-empty">Cart is empty</div>';
                return;
            }
            
            cart.forEach(item => {
                const cartItemElement = document.createElement('div');
                cartItemElement.className = 'cart-item';
                cartItemElement.innerHTML = `
                    <div class="cart-item-info">
                        <div class="cart-item-name">${item.name}</div>
                        <div class="cart-item-price">${item.price.toFixed(2)}</div>
                    </div>
                    <div class="cart-item-quantity">
                        <button class="decrease-quantity" data-id="${item.id}">-</button>
                        <span>${item.quantity}</span>
                        <button class="increase-quantity" data-id="${item.id}">+</button>
                    </div>
                `;
                cartItems.appendChild(cartItemElement);
                
                // Add event listeners for quantity buttons
                cartItemElement.querySelector('.decrease-quantity').addEventListener('click', (e) => {
                    e.stopPropagation();
                    decreaseQuantity(item.id);
                });
                
                cartItemElement.querySelector('.increase-quantity').addEventListener('click', (e) => {
                    e.stopPropagation();
                    increaseQuantity(item.id);
                });
            });
        }

        // Increase item quantity
        function increaseQuantity(id) {
            const item = cart.find(item => item.id === id);
            if (item) {
                item.quantity += 1;
                renderCart();
                updateCartTotal();
            }
        }

        // Decrease item quantity
        function decreaseQuantity(id) {
            const itemIndex = cart.findIndex(item => item.id === id);
            if (itemIndex !== -1) {
                if (cart[itemIndex].quantity > 1) {
                    cart[itemIndex].quantity -= 1;
                } else {
                    cart.splice(itemIndex, 1);
                }
                renderCart();
                updateCartTotal();
            }
        }

        // Clear cart
        function clearCart() {
            cart = [];
            appliedDiscount = false;
            discountAmount = 0;
            renderCart();
            updateCartTotal();
        }

        // Update cart total
        function updateCartTotal() {
            const subtotal = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            let total = subtotal;
            
            if (appliedDiscount) {
                total = subtotal - discountAmount;
            }
            
            cartTotalAmount.textContent = `${total.toFixed(2)}`;
            modalTotalAmount.textContent = `${total.toFixed(2)}`;
            receiptTotalAmount.textContent = `${total.toFixed(2)}`;
            
            // If discount applied, show it under the total
            const discountInfo = document.querySelector('.discount-info');
            if (discountInfo) {
                if (appliedDiscount) {
                    discountInfo.innerHTML = `
                        <div>Subtotal: ${subtotal.toFixed(2)}</div>
                        <div>Discount: -${discountAmount.toFixed(2)}</div>
                    `;
                    discountInfo.style.display = 'block';
                } else {
                    discountInfo.style.display = 'none';
                }
            }
            
            // Update discount modal values if it exists
            const discountCurrentTotal = document.getElementById('discount-current-total');
            const discountOriginalTotal = document.getElementById('discount-original-total');
            if (discountCurrentTotal && discountOriginalTotal) {
                discountCurrentTotal.textContent = `${subtotal.toFixed(2)}`;
                discountOriginalTotal.textContent = `${subtotal.toFixed(2)}`;
            }
            
            // Update held sale summary if it exists
            updateHeldSaleSummary();
        }

        // Generate receipt
        function generateReceipt() {
            receiptItems.innerHTML = '';
            
            cart.forEach(item => {
                const receiptItem = document.createElement('div');
                receiptItem.className = 'receipt-item';
                receiptItem.innerHTML = `
                    <div>${item.quantity} x ${item.name}</div>
                    <div>${(item.price * item.quantity).toFixed(2)}</div>
                `;
                receiptItems.appendChild(receiptItem);
            });
            
            const currentDate = new Date();
            receiptDate.textContent = currentDate.toLocaleDateString();
            receiptNumberElement.textContent = receiptNumber;
            
            if (erpConnected) {
                erpReference.textContent = `J2-${Math.floor(Math.random() * 10000)}`;
            } else {
                erpReference.textContent = 'Not Synced';
            }
        }

        // Generate receipt number
        function generateReceiptNumber() {
            return `RCP-${Math.floor(Math.random() * 100000)}`;
        }

        // Simulate ERP connection
        function toggleErpConnection() {
            erpConnected = !erpConnected;
            erpStatus.textContent = erpConnected ? 'Connected' : 'Not Connected';
            erpStatus.style.color = erpConnected ? 'green' : 'red';
            
            // Show notification
            alert(erpConnected 
                ? 'Successfully connected to Jim2 ERP. Inventory and customer data synchronized.' 
                : 'Disconnected from Jim2 ERP. Working in offline mode.');
        }

        // Update held sale summary
        function updateHeldSaleSummary() {
            const heldItemsCount = document.getElementById('hold-items-count');
            const heldTotalValue = document.getElementById('hold-total-value');
            
            if (heldItemsCount && heldTotalValue) {
                heldItemsCount.textContent = cart.reduce((sum, item) => sum + item.quantity, 0);
                heldTotalValue.textContent = `${cart.reduce((sum, item) => sum + (item.price * item.quantity), 0).toFixed(2)}`;
            }
        }
        
        // Update discount preview
        function updateDiscountPreview() {
            const discountValue = parseFloat(discountValueInput.value) || 0;
            const originalTotal = cart.reduce((sum, item) => sum + (item.price * item.quantity), 0);
            
            const discountAmountElement = document.getElementById('discount-amount');
            const newTotalElement = document.getElementById('discount-new-total');
            
            let calculatedDiscount = 0;
            
            if (discountType === 'percent') {
                calculatedDiscount = originalTotal * (discountValue / 100);
            } else {
                calculatedDiscount = discountValue;
            }
            
            // Ensure discount doesn't exceed total
            calculatedDiscount = Math.min(calculatedDiscount, originalTotal);
            
            discountAmountElement.textContent = `${calculatedDiscount.toFixed(2)}`;
            newTotalElement.textContent = `${(originalTotal - calculatedDiscount).toFixed(2)}`;
            
            discountAmount = calculatedDiscount;
        }

        // Apply discount to cart
        function applyDiscount() {
            if (discountAmount > 0) {
                appliedDiscount = true;
                updateCartTotal();
                document.getElementById('discount-modal').style.display = 'none';
            }
        }

        // Hold current sale
        function holdCurrentSale() {
            if (cart.length === 0) {
                alert('Cart is empty');
                return;
            }
            
            const customerName = document.querySelector('#hold-modal input[placeholder="Customer Name"]').value || 'Guest';
            
            const heldSale = {
                id: `HOLD-${(heldSales.length + 1).toString().padStart(3, '0')}`,
                customer: customerName,
                date: new Date().toISOString().split('T')[0],
                items: [...cart],
                total: cart.reduce((sum, item) => sum + (item.price * item.quantity), 0),
                notes: document.querySelector('#hold-modal textarea').value || ''
            };
            
            heldSales.push(heldSale);
            
            // Add to held sales table
            const heldSalesTable = document.querySelector('#held-sales-modal tbody');
            if (heldSalesTable) {
                const row = document.createElement('tr');
                row.innerHTML = `
                    <td style="padding: 0.75rem; border-bottom: 1px solid #e2e8f0;">${heldSale.id}</td>
                    <td style="padding: 0.75rem; border-bottom: 1px solid #e2e8f0;">${heldSale.customer}</td>
                    <td style="padding: 0.75rem; border-bottom: 1px solid #e2e8f0;">${heldSale.date}</td>
                    <td style="padding: 0.75rem; border-bottom: 1px solid #e2e8f0; text-align: right;">${heldSale.items.reduce((sum, item) => sum + item.quantity, 0)}</td>
                    <td style="padding: 0.75rem; border-bottom: 1px solid #e2e8f0; text-align: right;">${heldSale.total.toFixed(2)}</td>
                    <td style="padding: 0.75rem; border-bottom: 1px solid #e2e8f0; text-align: center;">
                        <button style="padding: 0.25rem 0.5rem;" class="recall-btn" data-id="${heldSale.id}">Recall</button>
                        <button style="padding: 0.25rem 0.5rem; background-color: var(--danger);" class="delete-btn" data-id="${heldSale.id}">Delete</button>
                    </td>
                `;
                heldSalesTable.appendChild(row);
                
                // Add event listeners for the new buttons
                row.querySelector('.recall-btn').addEventListener('click', () => recallHeldSale(heldSale.id));
                row.querySelector('.delete-btn').addEventListener('click', () => deleteHeldSale(heldSale.id));
            }
            
            // Clear cart and close modal
            clearCart();
            document.getElementById('hold-modal').style.display = 'none';
            
            // Show confirmation and open held sales list
            alert(`Sale successfully held with ID: ${heldSale.id}`);
            document.getElementById('held-sales-modal').style.display = 'flex';
        }

        // Recall a held sale
        function recallHeldSale(id) {
            const heldSale = heldSales.find(sale => sale.id === id);
            if (heldSale) {
                // Confirm if cart is not empty
                if (cart.length > 0) {
                    if (!confirm('Current cart will be cleared. Continue?')) {
                        return;
                    }
                }
                
                // Clear current cart and load held items
                clearCart();
                cart = [...heldSale.items];
                renderCart();
                updateCartTotal();
                
                // Close held sales modal
                document.getElementById('held-sales-modal').style.display = 'none';
            }
        }

        // Delete a held sale
        function deleteHeldSale(id) {
            if (confirm('Are you sure you want to delete this held sale?')) {
                const index = heldSales.findIndex(sale => sale.id === id);
                if (index !== -1) {
                    heldSales.splice(index, 1);
                    
                    // Remove from table
                    const button = document.querySelector(`.delete-btn[data-id="${id}"]`);
                    if (button) {
                        const row = button.closest('tr');
                        if (row) {
                            row.remove();
                        }
                    }
                }
            }
        }

        // Attach event listeners
        function attachEventListeners() {
            // Category selection
            categories.forEach(category => {
                category.addEventListener('click', () => {
                    categories.forEach(c => c.classList.remove('active'));
                    category.classList.add('active');
                    selectedCategory = category.textContent;
                    renderProducts();
                });
            });
            
            // Checkout button
            checkoutBtn.addEventListener('click', () => {
                if (cart.length === 0) {
                    alert('Cart is empty');
                    return;
                }
                paymentModal.style.display = 'flex';
            });
            
            // Clear cart button
            clearCartBtn.addEventListener('click', clearCart);
            
            // Complete payment button
            completePaymentBtn.addEventListener('click', () => {
                paymentModal.style.display = 'none';
                generateReceipt();
                receiptModal.style.display = 'flex';
                
                // If connected to ERP, send sale data
                if (erpConnected) {
                    // Simulate sending data to Jim2 ERP
                    console.log('Sending sale data to Jim2 ERP...');
                }
            });
            
            // New sale button
            newSaleBtn.addEventListener('click', () => {
                receiptModal.style.display = 'none';
                clearCart();
                receiptNumber = generateReceiptNumber();
            });
            
            // Print receipt button
            printReceiptBtn.addEventListener('click', () => {
                alert('Printing receipt...');
            });
            
            // ERP sync button
            syncBtn.addEventListener('click', toggleErpConnection);
            
            // Settings button
            settingsBtn.addEventListener('click', () => {
                document.getElementById('settings-modal').style.display = 'flex';
            });
            
            // Sales history button
            salesHistoryBtn.addEventListener('click', () => {
                document.getElementById('sales-history-modal').style.display = 'flex';
            });
            
            // Discount button
            discountBtn.addEventListener('click', () => {
                if (cart.length === 0) {
                    alert('Cart is empty');
                    return;
                }
                
                // Reset discount form
                discountValueInput.value = '';
                percentDiscountBtn.classList.add('selected');
                amountDiscountBtn.classList.remove('selected');
                document.getElementById('percent').checked = true;
                discountType = 'percent';
                
                updateDiscountPreview();
                document.getElementById('discount-modal').style.display = 'flex';
            });
            
            // Hold button
            holdBtn.addEventListener('click', () => {
                if (cart.length === 0) {
                    alert('Cart is empty');
                    return;
                }
                
                // Reset hold form
                document.querySelectorAll('#hold-modal input').forEach(input => {
                    input.value = '';
                });
                document.querySelector('#hold-modal textarea').value = '';
                
                updateHeldSaleSummary();
                document.getElementById('hold-modal').style.display = 'flex';
            });
            
            // Apply discount button
            applyDiscountBtn.addEventListener('click', applyDiscount);
            
            // Confirm hold button
            confirmHoldBtn.addEventListener('click', holdCurrentSale);
            
            // All modal close buttons
            document.querySelectorAll('.modal-close').forEach(btn => {
                btn.addEventListener('click', () => {
                    document.querySelectorAll('.modal').forEach(modal => {
                        modal.style.display = 'none';
                    });
                });
            });
            
            // All modal close by secondary button
            document.querySelectorAll('.modal-close-btn').forEach(btn => {
                btn.addEventListener('click', () => {
                    btn.closest('.modal').style.display = 'none';
                });
            });
            
            // Discount type selection
            percentDiscountBtn.addEventListener('click', () => {
                percentDiscountBtn.classList.add('selected');
                amountDiscountBtn.classList.remove('selected');
                document.getElementById('percent').checked = true;
                discountType = 'percent';
                updateDiscountPreview();
            });
            
            amountDiscountBtn.addEventListener('click', () => {
                percentDiscountBtn.classList.remove('selected');
                amountDiscountBtn.classList.add('selected');
                document.getElementById('amount').checked = true;
                discountType = 'amount';
                updateDiscountPreview();
            });
            
            // Discount value input
            discountValueInput.addEventListener('input', updateDiscountPreview);
            
            // Payment method selection
            paymentMethods.forEach(method => {
                method.addEventListener('click', () => {
                    paymentMethods.forEach(m => m.classList.remove('selected'));
                    method.classList.add('selected');
                    method.querySelector('input').checked = true;
                });
            });
        }

        // Initialize the application
        init();
    </script>
</body>
</html>
